{% extends 'base.html.twig' %}
{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code {  padding: 2px 6px; }
        body {

        background-image: url("https://i.pinimg.com/originals/ea/db/2b/eadb2b7ec2e0e97964f000f3d3af49a0.jpg");

          height: 100%;

        background-position: center;

        background-repeat: no-repeat;

        background-size: cover;

      }
</style>
<br>
<div class="row">
	<div class="col-6 offset-3">


            
     {% if is_granted('ROLE_ADMIN')%}
        
            <div class="card text-white bg-danger mb-3" style="max-width: 20rem;">
                <div class="card-header">ADMIN</div>
                <div class="card-body">
                        <h4 class="card-title">Admin page</h4>
                        <p class="card-text">The Admin page gives you access to the Analytics administrative features. At the bottom-left of the page, hover over the gear icon and click Admin to open the page.
                        </p>
                </div>
            </div>
{% endif %}  
            <div class="card text-white bg-info mb-3" style="max-width: 20rem;">
                <div class="card-header">USER</div>
                <div class="card-body">
                     <h4 class="card-title">Userpage</h4>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                </div>
            </div>
    </div>
</div>
<div class="col-6 offset-3">

<p class="lead">
	<button class="btn btn-primary" type="button" onclick="onClickBtn()">Change Content</button>
	<table class="table">
		<tr>
			<td>Username</td>
			<td>Email</td>

		</tr>
		<tr>
			<td id="username"></td>
			<td id="email"></td>
		</tr>
	</table>
</p>
</div>
</div>

{% endblock %}

{% block javascripts %}
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
function onClickBtn(event) {
axios.get("/ajax").then(function (response) {
document.getElementById('username').textContent = response.data.name;
document.getElementById('email').textContent = response.data.email;
})
}
document.querySelectorAll('btn-primary').foreach(function (link) {
link.addEventListener('click'.onClickBtn);

})
</script>
{% endblock %}



